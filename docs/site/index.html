<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faycal Farhat - Model Architect & Theoretical AI</title>
    <meta name="description" content="Model Architect specializing in novel AI architectures, State Transition Calculus, and Constitutional Dynamics. Where philosophy meets production code.">
    <meta name="author" content="Faycal Farhat">
    <meta name="keywords" content="Model Architecture,State Transition Calculus,Constitutional AI,Alternating Attention,AI Systems,Faycal Farhat">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.26.0/plotly.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #fafafa;
            color: #2c3e50;
            overflow-x: hidden;
            line-height: 1.6;
            cursor: none;
        }

        /* Custom Cursor with Mathematical Elegance */
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid #2c3e50;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: all 0.1s ease;
            opacity: 0.7;
            box-shadow: 0 0 15px rgba(44, 62, 80, 0.3);
        }
        
        .cursor::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.6;
        }

        .cursor-trail {
            position: fixed;
            width: 4px;
            height: 4px;
            background: #34495e;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.5;
        }

        /* GLSL Background Canvas */
        #glsl-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 50px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(45deg, #2c3e50, #34495e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-links a {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 10px 0;
        }

        .nav-links a:hover {
            color: #34495e;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(45deg, #2c3e50, #34495e);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Sections */
        section {
            min-height: 100vh;
            padding: 100px 50px 50px;
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        /* Hero Section with Equation Animation */
        .hero {
            text-align: center;
            position: relative;
        }

        .hero-equation {
            font-size: 4rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #2c3e50, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            min-height: 5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Crimson Text', 'Times New Roman', serif;
            position: relative;
        }
        
        .hero-equation::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            width: 60px;
            height: 2px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            transform: translateX(-50%);
            opacity: 0.6;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #2c3e50, #5a6c7d, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 500;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .cta-button {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(45deg, #2c3e50, #6366f1);
            color: #ffffff;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(44, 62, 80, 0.05), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border-color: rgba(44, 62, 80, 0.2);
        }

        .section-title {
            font-size: 3rem;
            margin-bottom: 50px;
            text-align: center;
            background: linear-gradient(45deg, #2c3e50, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Crimson Text', serif;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            width: 80px;
            height: 1px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6, transparent);
            transform: translateX(-50%);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            width: 100%;
        }

        .experience-item, .project-item, .education-item, .publication-item {
            position: relative;
        }

        .experience-item h3, .project-item h3, .education-item h3, .publication-item h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .experience-item .company, .education-item .institution {
            color: #34495e;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .experience-item .date, .education-item .date, .publication-item .date {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .project-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-research {
            background: #cce7ff;
            color: #004085;
        }

        .status-development {
            background: #fff3cd;
            color: #856404;
        }

        /* Magnetic Tech Tags */
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            position: relative;
        }

        .tech-tag {
            background: rgba(44, 62, 80, 0.1);
            color: #2c3e50;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(44, 62, 80, 0.2);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .tech-tag.magnetic {
            transform: scale(1.1) translateY(-2px);
            background: rgba(44, 62, 80, 0.2);
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2);
        }

        /* Data Visualization Containers */
        .viz-container {
            width: 100%;
            height: 320px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* Contact Section */
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            width: 100%;
        }

        .contact-item {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .contact-item:hover {
            background: rgba(44, 62, 80, 0.05);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .contact-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        /* Achievement Highlight with Philosophical Touch */
        .achievement {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef, #f3f4f6);
            border-left: 4px solid #6366f1;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 8px;
            font-weight: 500;
            position: relative;
            font-style: italic;
        }
        
        .achievement::before {
            content: '◆';
            position: absolute;
            left: -2px;
            top: 15px;
            color: #6366f1;
            font-size: 12px;
            background: white;
            padding: 2px;
        }

        /* Mobile-First Responsive Design */
        
        /* Disable custom cursor on touch devices */
        @media (hover: none) and (pointer: coarse) {
            .cursor,
            .cursor-trail {
                display: none !important;
            }
            
            body {
                cursor: auto !important;
            }
        }

        /* Mobile Navigation */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 8px;
            background: none;
            border: none;
            position: relative;
            z-index: 1001;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: #2c3e50;
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 1px;
        }

        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
            list-style: none;
        }

        .mobile-nav-links a {
            color: #2c3e50;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 600;
            padding: 15px 30px;
            border-radius: 50px;
            transition: all 0.3s ease;
            background: rgba(44, 62, 80, 0.05);
            backdrop-filter: blur(10px);
            min-width: 200px;
            text-align: center;
        }

        .mobile-nav-links a:hover,
        .mobile-nav-links a:focus {
            background: rgba(44, 62, 80, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(44, 62, 80, 0.15);
        }

        /* Touch-friendly interactive elements */
        .cta-button,
        .contact-item,
        .card {
            min-height: 44px; /* Apple's recommended minimum touch target */
        }

        .tech-tag {
            min-height: 36px;
            padding: 8px 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* Enhanced typography scaling */
        .hero-equation {
            font-size: clamp(2rem, 8vw, 4rem);
            line-height: 1.2;
        }

        .section-title {
            font-size: clamp(1.8rem, 6vw, 3rem);
            line-height: 1.3;
        }

        .hero p {
            font-size: clamp(1.1rem, 4vw, 1.3rem);
            line-height: 1.5;
        }

        /* Mobile breakpoints */
        @media (max-width: 480px) {
            /* Extra small phones */
            nav {
                padding: 12px 16px;
            }

            .nav-container {
                justify-content: space-between;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            section {
                padding: 60px 16px 40px;
                min-height: auto;
            }

            .hero {
                padding: 80px 16px 60px;
                min-height: 90vh;
            }

            .hero-equation {
                margin-bottom: 16px;
                min-height: auto;
            }

            .hero p {
                margin-bottom: 24px;
                text-align: center;
            }

            .cta-button {
                padding: 12px 24px;
                font-size: 0.95rem;
                width: 100%;
                max-width: 280px;
                text-align: center;
            }

            .card {
                padding: 20px 16px;
                margin: 16px 0;
                border-radius: 16px;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .contact-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .tech-stack {
                gap: 8px;
                justify-content: center;
            }

            .tech-tag {
                font-size: 0.85rem;
                padding: 6px 12px;
            }

            .viz-container {
                height: 280px;
                padding: 16px;
                margin: 16px 0;
                border-radius: 12px;
            }

            .achievement {
                padding: 12px 16px;
                margin: 12px 0;
                font-size: 0.9rem;
            }

            .contact-item {
                padding: 24px 16px;
            }

            .contact-icon {
                font-size: 2rem;
                margin-bottom: 12px;
            }

            /* Disable magnetic effects on mobile */
            .tech-tag.magnetic {
                transform: none !important;
            }
        }

        @media (max-width: 768px) and (min-width: 481px) {
            /* Standard mobile phones */
            nav {
                padding: 15px 20px;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            section {
                padding: 70px 20px 50px;
            }

            .hero {
                padding: 90px 20px 70px;
            }

            .hero p {
                margin-bottom: 28px;
            }

            .cta-button {
                padding: 14px 28px;
                width: auto;
                min-width: 200px;
            }

            .card {
                padding: 24px 20px;
                margin: 18px 0;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }

            .contact-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 24px;
            }

            .viz-container {
                height: 300px;
                padding: 18px;
            }

            .tech-stack {
                justify-content: flex-start;
            }
        }

        @media (max-width: 1024px) and (min-width: 769px) {
            /* Tablets */
            nav {
                padding: 18px 30px;
            }

            section {
                padding: 80px 30px 60px;
            }

            .hero {
                padding: 100px 30px 80px;
            }

            .grid {
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                gap: 26px;
            }

            .contact-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 26px;
            }

            .card {
                padding: 26px 24px;
            }

            .viz-container {
                height: 320px;
                padding: 20px;
            }
        }

        /* Landscape mobile optimization */
        @media (max-height: 500px) and (orientation: landscape) {
            .hero {
                min-height: 100vh;
                padding: 60px 20px 40px;
            }

            section {
                min-height: auto;
                padding: 60px 20px 40px;
            }

            nav {
                padding: 10px 20px;
            }

            .hero-equation {
                font-size: clamp(1.8rem, 6vw, 2.5rem);
                margin-bottom: 12px;
            }

            .hero p {
                font-size: clamp(1rem, 3vw, 1.2rem);
                margin-bottom: 20px;
            }
        }

        /* High DPI / Retina displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .card {
                border-width: 0.5px;
            }

            .nav-links a::after {
                height: 1px;
            }

            .section-title::after {
                height: 0.5px;
            }
        }

        /* Reduce motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            .cursor,
            .cursor-trail {
                display: none !important;
            }

            .fade-in {
                opacity: 1 !important;
                transform: none !important;
            }

            .typewriter {
                animation: none !important;
                overflow: visible !important;
                white-space: normal !important;
            }
        }

        /* Dark mode preference support */
        @media (prefers-color-scheme: dark) {
            /* Optional: Add dark mode styles if desired */
        }

        /* Print styles */
        @media print {
            .cursor,
            .cursor-trail,
            #glsl-canvas,
            .mobile-menu-toggle,
            .mobile-nav-overlay {
                display: none !important;
            }

            nav {
                position: static !important;
                background: white !important;
                box-shadow: none !important;
            }

            section {
                break-inside: avoid;
                page-break-inside: avoid;
            }

            .card {
                break-inside: avoid;
                page-break-inside: avoid;
            }
        }

        /* Scroll animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Equation animation */
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }

        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            margin: 0 auto;
            animation: typewriter 2s steps(40, end);
        }
    </style>
</head>
<body>
    <div class="cursor"></div>
    <canvas id="glsl-canvas"></canvas>

    <nav id="navbar">
        <div class="nav-container">
            <div class="logo">Faycal Farhat</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#experience">Experience</a></li>
                <li><a href="#research">Research</a></li>
                <li><a href="#philosophy">Philosophy</a></li>
                <li><a href="#education">Education</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay">
        <ul class="mobile-nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#experience">Experience</a></li>
            <li><a href="#research">Research</a></li>
            <li><a href="#philosophy">Philosophy</a></li>
            <li><a href="#education">Education</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </div>

    <section id="home" class="hero">
        <div class="fade-in">
            <div class="hero-equation" id="heroText">Faycal Farhat</div>
            <p>Model Architect & Theoretical AI • Where Philosophy Meets Production Code</p>
            <a href="#about" class="cta-button">Explore My Research</a>
        </div>
    </section>

    <section id="about">
        <div class="fade-in">
            <h2 class="section-title">About Me</h2>
            <div class="card">
                <p>Model architect developing novel AI architectures through mathematical frameworks. Research centers on State Transition Calculus, Alternating Causal Attention, and Constitutional Dynamics—shipping theoretical insights as production systems.</p>
                
                <div class="achievement">
                    <strong>Research Philosophy:</strong> <em>"Alignment as tractable optimization through principled architecture."</em>
                </div>
                
                <div class="achievement">
                    <strong>Approach:</strong> Dynamic systems over static functions—AI as trajectory through vector space
                </div>

                <div class="tech-stack">
                    <span class="tech-tag">Model Architecture</span>
                    <span class="tech-tag">State Transition Calculus</span>
                    <span class="tech-tag">Alternating Attention</span>
                    <span class="tech-tag">Constitutional Dynamics</span>
                    <span class="tech-tag">Multi-Agent Systems</span>
                    <span class="tech-tag">Mathematical Philosophy</span>
                </div>
            </div>
        </div>
    </section>

    <section id="experience">
        <div class="fade-in">
            <h2 class="section-title">Experience</h2>
            <div class="grid">
                <div class="card experience-item">
                    <h3>Model Architect & Theoretical AI</h3>
                    <div class="company">Independent Research</div>
                    <div class="date">2023 - Present</div>
                    <p>Novel AI architectures through mathematical frameworks. Shipping theoretical insights as production systems.</p>
                    <div class="achievement">
                        <strong>State Transition Calculus:</strong> AI alignment as vector space trajectory. PyPI package: <em>constitutional-dynamics</em>.
                    </div>
                    <div class="achievement">
                        <strong>Alternating Causal Attention:</strong> Bidirectional attention with push-pull resonance. 15.8% training loss improvement.
                    </div>
                    <div class="achievement">
                        <strong>Multi-Agent Architecture:</strong> Wave-based processing. <strong>44% improvement in Actionable Insight Rate</strong>.
                    </div>
                    <div class="tech-stack">
                        <span class="tech-tag">Novel Architectures</span>
                        <span class="tech-tag">Mathematical Frameworks</span>
                        <span class="tech-tag">Attention Mechanisms</span>
                        <span class="tech-tag">Dynamic Systems</span>
                    </div>
                </div>
                <div class="card experience-item">
                    <h3>Operations Analyst</h3>
                    <div class="company">MEZZMIZ Inc.</div>
                    <div class="date">2022</div>
                    <p>Automated KPI dashboards (Python), 20% retention boost. Supply-chain forecast validation.</p>
                    <div class="tech-stack">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">Data Analysis</span>
                        <span class="tech-tag">KPI Dashboards</span>
                        <span class="tech-tag">Supply Chain</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="research">
        <div class="fade-in">
            <h2 class="section-title">Research Projects</h2>
            <div class="grid">
                <div class="card project-item">
                    <h3>Genesis Project: Multi-Agent Economic Dynamics</h3>
                    <div class="project-status status-research">Research • Adaptive RL Architecture</div>
                    <div class="date">2024 - Present</div>
                    <p>Investigating adaptive reinforcement learning architectures within constrained resource environments to model emergent behaviors under competitive market pressures. This research examines how economic mechanisms can serve as selective pressures for AI system robustness and alignment.</p>
                    <div class="achievement">
                        <strong>Research Hypothesis:</strong> Market-mediated resource allocation mechanisms induce emergent cooperation and specialization behaviors in multi-agent systems, potentially serving as natural alignment mechanisms through economic incentive structures.
                    </div>
                    <div class="achievement">
                        <strong>Theoretical Framework:</strong> Agent adaptation under economic constraints in non-stationary environments, examining the intersection of game-theoretic equilibria and dynamic system stability under resource scarcity.
                    </div>
                    <div class="achievement">
                        <strong>Research Questions:</strong> (1) How do market dynamics influence agent specialization patterns? (2) Can economic constraints serve as implicit alignment mechanisms? (3) What equilibrium structures emerge under resource-constrained cooperation?
                    </div>
                    <div class="tech-stack">
                        <span class="tech-tag">Adaptive RL</span>
                        <span class="tech-tag">Multi-Agent Systems</span>
                        <span class="tech-tag">Game Theory</span>
                        <span class="tech-tag">Economic Evolution</span>
                        <span class="tech-tag">Nash Equilibrium</span>
                        <span class="tech-tag">Mechanism Design</span>
                    </div>
                </div>
                <div class="card project-item">
                    <h3>PrincipiaDynamica</h3>
                    <div class="project-status status-active">Active • PyPI Package</div>
                    <div class="date">2024 - Present</div>
                    <p>Mathematical framework treating AI alignment as trajectory optimization through high-dimensional vector spaces. Modeling behavioral evolution as dynamic state transitions.</p>
                    <div class="viz-container" id="stc-viz"></div>
                    <div class="achievement">
                        <strong>Formulation:</strong> φ(aᵢ, t, wᵢ) activations, residual potentialities b(a_residual), dynamic balancing λ(t)
                    </div>
                    <div class="achievement">
                        <strong>Implementation:</strong> PyPI package, Neo4j integration, QUBO optimization, real-time monitoring
                    </div>
                    <div class="tech-stack">
                        <span class="tech-tag">Mathematical Philosophy</span>
                        <span class="tech-tag">Vector Space Dynamics</span>
                        <span class="tech-tag">QUBO Optimization</span>
                        <span class="tech-tag">Neo4j Integration</span>
                        <span class="tech-tag">Constitutional Dynamics</span>
                    </div>
                </div>
                
                <div class="card project-item">
                    <h3>Multi-Agent News Bot</h3>
                    <div class="project-status status-active">Active • Production</div>
                    <div class="date">2024 - 2025</div>
                    <p>Transforms raw news into personalized briefings with specialized agents for categorization, fact-checking, and synthesis.</p>
                    <div class="viz-container" id="news-bot-viz"></div>
                    <div class="achievement">
                        <strong>Key Result:</strong> 44% improvement in Actionable Insight Rate (AIR)
                    </div>
                    <div class="achievement">
                        <strong>Performance:</strong> Latency &lt;30s p95, FactScore &gt;0.8, Cost ≤$0.05/brief
                    </div>
                    <div class="tech-stack">
                        <span class="tech-tag">Multi-Agent Systems</span>
                        <span class="tech-tag">LLM Evaluation</span>
                        <span class="tech-tag">Prompt Engineering</span>
                        <span class="tech-tag">JSON Schemas</span>
                    </div>
                </div>
                
                <div class="card project-item">
                    <h3>Nested Intent Graph Architecture</h3>
                    <div class="project-status status-active">Active • Intent-Aware Co-Pilot</div>
                    <div class="date">2024 - 2025</div>
                    <p>Code repositories as nested intent graphs. Concepts, capabilities, contexts, contracts as navigable entities. Static files → structured graph for efficient context retrieval.</p>
                    <div class="viz-container" id="codesemantics-viz"></div>
                    <div class="achievement">
                        <strong>Framework:</strong> Files & Symbols → Intent Primitives. Graph-Aware RAG with structural priors for large codebases
                    </div>
                    <div class="achievement">
                        <strong>Implementation:</strong> Polyglot Code Property Graph, temporal metadata, runtime probes, refactoring analysis
                    </div>
                    <div class="tech-stack">
                        <span class="tech-tag">Intent Primitives</span>
                        <span class="tech-tag">Code Property Graphs</span>
                        <span class="tech-tag">Graph-Aware RAG</span>
                        <span class="tech-tag">Predictive Refactoring</span>
                    </div>
                </div>

                <div class="card project-item">
                    <h3>Multi-Step Resonance & Bidirectional Field Dynamics</h3>
                    <div class="project-status status-research">Research • Advanced Attention Mechanisms</div>
                    <div class="date">2024 - 2025</div>
                    <p>Investigating multi-cycle resonance in AC Attention with bidirectional field dynamics. Novel transformer architectures exhibiting field-like behaviors including standing waves, interference patterns, and emergent resonant modes through push-pull attention mechanisms.</p>
                    <div class="achievement">
                        <strong>Field Emergence:</strong> Field energy evolution 0.5 → 1.0+ through 2-3 resonance cycles, demonstrable standing wave patterns, concentration scores 0.8-0.95 with cross-layer coherence
                    </div>
                    <div class="achievement">
                        <strong>Bidirectional Dynamics:</strong> Extended push-pull cycles with learnable field momentum, cycle-specific parameters, and constructive/destructive interference gating mechanisms
                    </div>
                    <div class="achievement">
                        <strong>Research Innovation:</strong> Template-based wave pattern detection, FFT analysis for resonance frequency identification, cross-layer field propagation tracking
                    </div>
                    <div class="tech-stack">
                        <span class="tech-tag">Field Dynamics</span>
                        <span class="tech-tag">Bidirectional Resonance</span>
                        <span class="tech-tag">Standing Wave Analysis</span>
                        <span class="tech-tag">Cross-Layer Propagation</span>
                        <span class="tech-tag">Interference Patterns</span>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="philosophy">
        <div class="fade-in">
            <h2 class="section-title">Research Philosophy</h2>
            <div class="card">
                <h3 style="color: #6366f1; margin-bottom: 20px;">Mathematical Philosophy for AI</h3>
                <p>AI as dynamic processes evolving through high-dimensional state spaces. Model architecture as applied philosophy—mathematical frameworks embody assumptions about intelligence, learning, alignment.</p>
                
                <div style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-left: 4px solid #8b5cf6; padding: 20px; margin: 25px 0; border-radius: 8px; font-style: italic;">
                    <p style="margin: 0; color: #5a5a5a;">"Deprecated experiments nourish the next generation of insights. Every failure reveals intelligence structure."</p>
                </div>
                
                <h4 style="color: #2c3e50; margin: 25px 0 15px 0;">Core Principles</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div>
                        <strong style="color: #6366f1;">Dynamic Over Static:</strong>
                        <p style="margin: 5px 0 0 0; font-size: 0.95rem;">AI behavior as vector space trajectory, not fixed mappings</p>
                    </div>
                    <div>
                        <strong style="color: #8b5cf6;">Philosophy → Math → Code:</strong>
                        <p style="margin: 5px 0 0 0; font-size: 0.95rem;">Architectures embody philosophical assumptions</p>
                    </div>
                    <div>
                        <strong style="color: #6366f1;">Resonance & Validation:</strong>
                        <p style="margin: 5px 0 0 0; font-size: 0.95rem;">Mutual validation increases robustness</p>
                    </div>
                    <div>
                        <strong style="color: #8b5cf6;">Cross-Pollination:</strong>
                        <p style="margin: 5px 0 0 0; font-size: 0.95rem;">Ideas migrate between projects</p>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 20px; background: rgba(99, 102, 241, 0.05); border-radius: 12px;">
                    <h4 style="color: #6366f1; margin: 0 0 15px 0;">Current Research Inquiries</h4>
                    <ul style="margin: 0; padding-left: 20px; color: #4a5568;">
                        <li style="margin-bottom: 8px;">To what extent can semantic understanding be conceptualized as an emergent field phenomenon with quantifiable energy metrics, concentration gradients, and wave-like propagation characteristics?</li>
                        <li style="margin-bottom: 8px;">What are the mechanisms by which multi-step resonance processes in attention architectures potentially generate standing wave patterns that may facilitate contextual information compression?</li>
                        <li style="margin-bottom: 8px;">What computational and representational implications arise from modeling code repositories as hierarchical intent-based graph structures wherein semantic concepts, functional capabilities, and operational contracts are represented as primary navigable entities?</li>
                        <li style="margin-bottom: 8px;">Is it feasible to formulate token compression through semantic understanding as an optimization problem within a reinforcement learning framework where the objective function incorporates contextual capacity enhancement?</li>
                        <li style="margin-bottom: 8px;">What architectural principles might enable the development of robust adaptive systems that demonstrate enhanced performance under adversarial conditions, wherein environmental dynamics function as selective pressures that guide agent adaptation?</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="education">
        <div class="fade-in">
            <h2 class="section-title">Education</h2>
            <div class="grid">
                <div class="card education-item">
                    <h3>B.Sc. Physics & Computer Science</h3>
                    <div class="institution">McGill University</div>
                    <div class="date">2023 - Present</div>
                    <p>Independent research sabbatical, AI alignment focus.</p>
                    <div class="achievement">
                        <strong>Focus:</strong> AI safety, constitutional AI
                    </div>
                </div>
                <div class="card education-item">
                    <h3>B.A. Philosophy (Honours)</h3>
                    <div class="institution">Concordia University</div>
                    <div class="date">2017 - 2022</div>
                    <p>Honours thesis: "Processes of Nature: An a priori Phenomenology of the Ordered Universe"—modal logic, decision theory.</p>
                    <div class="achievement">
                        <strong>Specialization:</strong> Modal logic, decision theory
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="fade-in">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-grid">
                <div class="contact-item">
                    <div class="contact-icon">📧</div>
                    <h3>Email</h3>
                    <p>faycal.farhat@mail.mcgill.ca</p>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">🐙</div>
                    <h3>GitHub</h3>
                    <p>github.com/FF-GardenFn</p>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">🌍</div>
                    <h3>Location</h3>
                    <p>Montréal, QC, Canada</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 40px; padding-top: 40px; border-top: 1px solid rgba(0, 0, 0, 0.1);">
                <p style="color: #6366f1; margin-top: 15px; font-style: italic; font-size: 0.9rem;">&copy; 2025 Faycal Farhat • Built with Mathematical Precision</p>
            </div>
        </div>
    </section>

    <script>
        // GLSL Shader Background
        class GLSLBackground {
            constructor() {
                this.canvas = document.getElementById('glsl-canvas');
                this.gl = this.canvas.getContext('webgl');
                this.time = 0;
                this.mouse = { x: 0, y: 0 };

                if (!this.gl) {
                    console.warn('WebGL not supported, falling back to canvas');
                    return;
                }

                this.init();
                this.animate();
            }

            init() {
                this.resize();
                this.createShaderProgram();
                window.addEventListener('resize', () => this.resize());
                document.addEventListener('mousemove', (e) => {
                    this.mouse.x = e.clientX / window.innerWidth;
                    this.mouse.y = 1.0 - e.clientY / window.innerHeight;
                });
            }

            resize() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
                this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);
            }

            createShaderProgram() {
                const vertexShaderSource = `
                    attribute vec4 position;
                    void main() {
                        gl_Position = position;
                    }
                `;

                const fragmentShaderSource = `
                    precision mediump float;
                    uniform float time;
                    uniform vec2 resolution;
                    uniform vec2 mouse;

                    float noise(vec2 p) {
                        return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);
                    }

                    float fbm(vec2 p) {
                        float value = 0.0;
                        float amplitude = 0.5;
                        float frequency = 0.0;
                        for (int i = 0; i < 4; i++) {
                            value += amplitude * noise(p);
                            p *= 2.0;
                            amplitude *= 0.5;
                        }
                        return value;
                    }

                    vec2 field(vec2 p) {
                        p *= 0.7;
                        float a = fbm(p + time * 0.1);
                        float b = fbm(p + vec2(1.0));
                        return vec2(a, b);
                    }

                    void main() {
                        vec2 uv = gl_FragCoord.xy / resolution.xy;
                        vec2 p = uv * 8.0 - 4.0;

                        // Create field lines
                        vec2 f = field(p);
                        float lines = abs(sin(f.x * 20.0 + time)) * abs(sin(f.y * 20.0 + time));

                        // Add mouse interaction
                        float mouseInfluence = 1.0 - length(uv - mouse) * 2.0;
                        mouseInfluence = max(0.0, mouseInfluence);

                        // Create flowing pattern
                        float flow = sin(f.x * 10.0 + time * 2.0) * cos(f.y * 10.0 + time * 1.5);

                        float intensity = (lines * 0.3 + flow * 0.2 + mouseInfluence * 0.1) * 0.4;

                        vec3 color = vec3(0.2, 0.3, 0.4) * intensity;
                        gl_FragColor = vec4(color, 1.0);
                    }
                `;

                const vertexShader = this.gl.createShader(this.gl.VERTEX_SHADER);
                this.gl.shaderSource(vertexShader, vertexShaderSource);
                this.gl.compileShader(vertexShader);

                const fragmentShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);
                this.gl.shaderSource(fragmentShader, fragmentShaderSource);
                this.gl.compileShader(fragmentShader);

                this.program = this.gl.createProgram();
                this.gl.attachShader(this.program, vertexShader);
                this.gl.attachShader(this.program, fragmentShader);
                this.gl.linkProgram(this.program);

                this.gl.useProgram(this.program);

                // Create full-screen quad
                const positions = new Float32Array([
                    -1, -1, 1, -1, -1, 1,
                    -1, 1, 1, -1, 1, 1
                ]);

                const buffer = this.gl.createBuffer();
                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);
                this.gl.bufferData(this.gl.ARRAY_BUFFER, positions, this.gl.STATIC_DRAW);

                const positionLocation = this.gl.getAttribLocation(this.program, 'position');
                this.gl.enableVertexAttribArray(positionLocation);
                this.gl.vertexAttribPointer(positionLocation, 2, this.gl.FLOAT, false, 0, 0);

                this.timeLocation = this.gl.getUniformLocation(this.program, 'time');
                this.resolutionLocation = this.gl.getUniformLocation(this.program, 'resolution');
                this.mouseLocation = this.gl.getUniformLocation(this.program, 'mouse');
            }

            animate() {
                this.time += 0.01;

                this.gl.uniform1f(this.timeLocation, this.time);
                this.gl.uniform2f(this.resolutionLocation, this.canvas.width, this.canvas.height);
                this.gl.uniform2f(this.mouseLocation, this.mouse.x, this.mouse.y);

                this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);

                requestAnimationFrame(() => this.animate());
            }
        }

        // Initialize GLSL background
        new GLSLBackground();

        // Custom cursor
        class CustomCursor {
            constructor() {
                this.cursor = document.querySelector('.cursor');
                this.trails = [];
                this.mouse = { x: 0, y: 0 };

                for (let i = 0; i < 8; i++) {
                    const trail = document.createElement('div');
                    trail.className = 'cursor-trail';
                    document.body.appendChild(trail);
                    this.trails.push({
                        element: trail,
                        x: 0,
                        y: 0
                    });
                }

                this.bindEvents();
                this.animate();
            }

            bindEvents() {
                document.addEventListener('mousemove', (e) => {
                    this.mouse.x = e.clientX;
                    this.mouse.y = e.clientY;
                });
            }

            animate() {
                this.cursor.style.left = this.mouse.x + 'px';
                this.cursor.style.top = this.mouse.y + 'px';

                this.trails.forEach((trail, index) => {
                    const delay = (index + 1) * 0.1;
                    trail.x += (this.mouse.x - trail.x) * delay;
                    trail.y += (this.mouse.y - trail.y) * delay;

                    trail.element.style.left = trail.x + 'px';
                    trail.element.style.top = trail.y + 'px';
                    trail.element.style.opacity = (8 - index) / 8 * 0.5;
                });

                requestAnimationFrame(() => this.animate());
            }
        }

        new CustomCursor();

        // Equation Hero Animation
        class EquationAnimator {
            constructor() {
                this.heroText = document.getElementById('heroText');
                this.equations = [
                    'Faycal Farhat',
                    'Model Architect',
                    '$\\mathcal{STC}: \\frac{d\\mathbf{s}}{dt} = f(\\mathbf{s}, \\mathbf{c}, t)$',
                    '$A_{resonant} = A_{push} \\odot A_{pull}^T$',
                    '$\\phi_{align}(t) = \\sum_{i} w_i e^{-\\lambda(t-t_i)} \\cdot \\text{score}_i$',
                    'Where Philosophy Meets Production Code',
                    'Faycal Farhat'
                ];
                this.currentIndex = 0;
                this.waitForMathJax();
            }

            waitForMathJax() {
                if (window.MathJax && window.MathJax.startup && window.MathJax.startup.promise) {
                    window.MathJax.startup.promise.then(() => {
                        this.startAnimation();
                    });
                } else {
                    setTimeout(() => {
                        this.startAnimation();
                    }, 3000);
                }
            }

            async retypesetMath() {
                if (window.MathJax && window.MathJax.typesetPromise) {
                    try {
                        await window.MathJax.typesetPromise([this.heroText]);
                    } catch (err) {
                        console.log('MathJax typeset error:', err);
                    }
                }
            }

            startAnimation() {
                setInterval(async () => {
                    this.currentIndex = (this.currentIndex + 1) % this.equations.length;
                    this.heroText.innerHTML = this.equations[this.currentIndex];

                    if (this.equations[this.currentIndex].includes('$')) {
                        await this.retypesetMath();
                    }
                }, 4200);
            }
        }

        new EquationAnimator();

        // Magnetic Tech Tags
        class MagneticTags {
            constructor() {
                this.tags = document.querySelectorAll('.tech-tag');
                this.mouse = { x: 0, y: 0 };
                this.bindEvents();
            }

            bindEvents() {
                document.addEventListener('mousemove', (e) => {
                    this.mouse.x = e.clientX;
                    this.mouse.y = e.clientY;
                    this.updateTags();
                });
            }

            updateTags() {
                this.tags.forEach(tag => {
                    const rect = tag.getBoundingClientRect();
                    const tagCenter = {
                        x: rect.left + rect.width / 2,
                        y: rect.top + rect.height / 2
                    };

                    const distance = Math.sqrt(
                        Math.pow(this.mouse.x - tagCenter.x, 2) +
                        Math.pow(this.mouse.y - tagCenter.y, 2)
                    );

                    if (distance < 100) {
                        tag.classList.add('magnetic');
                        const force = Math.max(0, 1 - distance / 100);
                        const deltaX = (this.mouse.x - tagCenter.x) * force * 0.3;
                        const deltaY = (this.mouse.y - tagCenter.y) * force * 0.3;
                        tag.style.transform = `translate(${deltaX}px, ${deltaY}px) scale(${1 + force * 0.1})`;
                    } else {
                        tag.classList.remove('magnetic');
                        tag.style.transform = '';
                    }
                });
            }
        }

        new MagneticTags();

        // Data Visualizations
        class ResearchVisualizations {
            constructor() {
                this.createSTCViz();
                this.createNewsBotViz();
                this.createCodeSemanticsViz();
            }

            createSTCViz() {
                const data = [{
                    x: ['Alignment Score', 'Drift Detection', 'QUBO Optimization', 'Real-time Monitoring'],
                    y: [0.92, 0.88, 0.85, 0.90],
                    type: 'bar',
                    marker: { color: ['#2c3e50', '#34495e', '#5a6c7d', '#7f8c8d'] }
                }];

                const layout = {
                    title: 'State Transition Calculus Performance',
                    height: 250,
                    margin: { t: 40, b: 40, l: 40, r: 40 },
                    font: { family: 'Segoe UI', size: 12 },
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    plot_bgcolor: 'rgba(0,0,0,0)'
                };

                Plotly.newPlot('stc-viz', data, layout, { responsive: true, displayModeBar: false });
            }

            createNewsBotViz() {
                const data = [{
                    r: [0.88, 0.92, 0.85, 0.90, 0.87],
                    theta: ['Categorization', 'Fact-Check', 'Synthesis', 'Relevance', 'AIR (+44%)'],
                    fill: 'toself',
                    type: 'scatterpolar',
                    marker: { color: '#2c3e50' }
                }];

                const layout = {
                    polar: {
                        radialaxis: {
                            visible: true,
                            range: [0, 1],
                            tickfont: { size: 10 }
                        },
                        angularaxis: {
                            tickfont: { size: 11 }
                        }
                    },
                    title: {
                        text: 'News Bot Performance',
                        font: { size: 14 }
                    },
                    height: 280,
                    margin: { t: 50, b: 30, l: 30, r: 30 },
                    font: { family: 'Segoe UI', size: 11 },
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    plot_bgcolor: 'rgba(0,0,0,0)'
                };

                Plotly.newPlot('news-bot-viz', data, layout, { responsive: true, displayModeBar: false });
            }

            createCodeSemanticsViz() {
                const container = d3.select('#codesemantics-viz');
                const containerRect = container.node().getBoundingClientRect();
                const width = Math.max(containerRect.width - 40, 560);
                const height = 280;
                
                const svg = container
                    .append('svg')
                    .attr('width', '100%')
                    .attr('height', height)
                    .attr('viewBox', `0 0 ${width} ${height}`)
                    .style('display', 'block')
                    .style('margin', '0 auto');

                const nodes = [
                    { id: 'Intent Graph Core', group: 1, size: 28 },
                    { id: 'Context Fusion', group: 2, size: 22 },
                    { id: 'Multi-modal Parse', group: 2, size: 20 },
                    { id: 'Chat History', group: 3, size: 18 },
                    { id: 'Semantic Bridge', group: 3, size: 20 },
                    { id: 'Code Relevance', group: 4, size: 18 },
                    { id: 'Unified Embedding', group: 4, size: 19 }
                ];

                const links = [
                    { source: 'Intent Graph Core', target: 'Context Fusion' },
                    { source: 'Intent Graph Core', target: 'Multi-modal Parse' },
                    { source: 'Context Fusion', target: 'Chat History' },
                    { source: 'Context Fusion', target: 'Semantic Bridge' },
                    { source: 'Multi-modal Parse', target: 'Code Relevance' },
                    { source: 'Semantic Bridge', target: 'Unified Embedding' },
                    { source: 'Code Relevance', target: 'Unified Embedding' },
                    { source: 'Chat History', target: 'Unified Embedding' }
                ];
                
                const simulation = d3.forceSimulation(nodes)
                    .force('link', d3.forceLink(links).id(d => d.id).distance(80))
                    .force('charge', d3.forceManyBody().strength(-800))
                    .force('center', d3.forceCenter(width / 2, height / 2))
                    .force('x', d3.forceX(width / 2).strength(0.1))
                    .force('y', d3.forceY(height / 2).strength(0.1));

                const link = svg.append('g')
                    .selectAll('line')
                    .data(links)
                    .enter()
                    .append('line')
                    .attr('stroke', '#34495e')
                    .attr('stroke-width', 2)
                    .attr('opacity', 0.6);

                const node = svg.append('g')
                    .selectAll('circle')
                    .data(nodes)
                    .enter()
                    .append('circle')
                    .attr('r', d => d.size)
                    .attr('fill', d => d3.schemeCategory10[d.group])
                    .attr('opacity', 0.8);

                const text = svg.append('g')
                    .selectAll('text')
                    .data(nodes)
                    .enter()
                    .append('text')
                    .text(d => d.id)
                    .style('font-size', '11px')
                    .style('fill', '#2c3e50')
                    .attr('text-anchor', 'middle')
                    .attr('dy', '.35em');

                simulation.on('tick', () => {
                    link
                        .attr('x1', d => d.source.x)
                        .attr('y1', d => d.source.y)
                        .attr('x2', d => d.target.x)
                        .attr('y2', d => d.target.y);

                    node
                        .attr('cx', d => d.x)
                        .attr('cy', d => d.y);

                    text
                        .attr('x', d => d.x)
                        .attr('y', d => d.y);
                });
            }
        }

        // Initialize visualizations when sections become visible
        const vizObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.target.id === 'research') {
                    new ResearchVisualizations();
                    vizObserver.unobserve(entry.target);
                }
            });
        });

        vizObserver.observe(document.getElementById('research'));

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Mobile Navigation
        class MobileNavigation {
            constructor() {
                this.menuToggle = document.getElementById('mobileMenuToggle');
                this.navOverlay = document.getElementById('mobileNavOverlay');
                this.mobileNavLinks = document.querySelectorAll('.mobile-nav-links a');
                this.isOpen = false;
                
                this.bindEvents();
            }

            bindEvents() {
                // Toggle menu on button click
                this.menuToggle.addEventListener('click', () => {
                    this.toggleMenu();
                });

                // Close menu when clicking on overlay
                this.navOverlay.addEventListener('click', (e) => {
                    if (e.target === this.navOverlay) {
                        this.closeMenu();
                    }
                });

                // Close menu when clicking on navigation links
                this.mobileNavLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        this.closeMenu();
                    });
                });

                // Close menu on escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && this.isOpen) {
                        this.closeMenu();
                    }
                });

                // Handle window resize
                window.addEventListener('resize', () => {
                    if (window.innerWidth > 768 && this.isOpen) {
                        this.closeMenu();
                    }
                });

                // Prevent body scroll when menu is open
                this.navOverlay.addEventListener('touchmove', (e) => {
                    if (this.isOpen) {
                        e.preventDefault();
                    }
                }, { passive: false });
            }

            toggleMenu() {
                if (this.isOpen) {
                    this.closeMenu();
                } else {
                    this.openMenu();
                }
            }

            openMenu() {
                this.isOpen = true;
                this.menuToggle.classList.add('active');
                this.navOverlay.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent background scroll
                
                // Add accessibility
                this.menuToggle.setAttribute('aria-expanded', 'true');
                this.navOverlay.setAttribute('aria-hidden', 'false');
            }

            closeMenu() {
                this.isOpen = false;
                this.menuToggle.classList.remove('active');
                this.navOverlay.classList.remove('active');
                document.body.style.overflow = ''; // Restore scroll
                
                // Add accessibility
                this.menuToggle.setAttribute('aria-expanded', 'false');
                this.navOverlay.setAttribute('aria-hidden', 'true');
            }
        }

        // Initialize mobile navigation
        new MobileNavigation();

        // Touch gesture improvements
        class TouchEnhancements {
            constructor() {
                this.addTouchRipples();
                this.improveTouchTargets();
            }

            addTouchRipples() {
                // Add touch feedback to interactive elements
                const interactiveElements = document.querySelectorAll('.cta-button, .tech-tag, .contact-item, .mobile-nav-links a');
                
                interactiveElements.forEach(element => {
                    element.addEventListener('touchstart', (e) => {
                        this.createRipple(e, element);
                    }, { passive: true });
                });
            }

            createRipple(event, element) {
                const ripple = document.createElement('span');
                const rect = element.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = event.touches[0].clientX - rect.left - size / 2;
                const y = event.touches[0].clientY - rect.top - size / 2;

                ripple.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}px;
                    top: ${y}px;
                    background: rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    pointer-events: none;
                    z-index: 1;
                `;

                // Add ripple animation if not already added
                if (!document.head.querySelector('#ripple-styles')) {
                    const style = document.createElement('style');
                    style.id = 'ripple-styles';
                    style.textContent = `
                        @keyframes ripple {
                            to {
                                transform: scale(2);
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }

                // Ensure element has relative positioning for ripple
                const position = window.getComputedStyle(element).position;
                if (position === 'static') {
                    element.style.position = 'relative';
                }
                element.style.overflow = 'hidden';

                element.appendChild(ripple);

                // Remove ripple after animation
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            }

            improveTouchTargets() {
                // Ensure minimum touch target sizes
                const touchTargets = document.querySelectorAll('a, button, .tech-tag, .contact-item');
                
                touchTargets.forEach(target => {
                    const rect = target.getBoundingClientRect();
                    if (rect.height < 44) {
                        target.style.minHeight = '44px';
                        target.style.display = target.style.display || 'inline-flex';
                        target.style.alignItems = 'center';
                        target.style.justifyContent = 'center';
                    }
                });
            }
        }

        // Initialize touch enhancements on touch devices
        if ('ontouchstart' in window) {
            new TouchEnhancements();
        }

        // Performance optimizations for mobile
        class MobileOptimizations {
            constructor() {
                this.optimizeForMobile();
                this.handleOrientationChange();
                this.optimizeScrolling();
            }

            optimizeForMobile() {
                // Disable hover effects on touch devices
                if ('ontouchstart' in window) {
                    document.documentElement.classList.add('touch-device');
                    
                    // Add styles for touch devices
                    const touchStyles = document.createElement('style');
                    touchStyles.textContent = `
                        .touch-device .card:hover,
                        .touch-device .contact-item:hover,
                        .touch-device .cta-button:hover {
                            transform: none !important;
                        }
                        
                        .touch-device .tech-tag:hover {
                            background: rgba(44, 62, 80, 0.1) !important;
                            transform: none !important;
                        }
                    `;
                    document.head.appendChild(touchStyles);
                }
            }

            handleOrientationChange() {
                window.addEventListener('orientationchange', () => {
                    // Force repaint on orientation change
                    setTimeout(() => {
                        window.dispatchEvent(new Event('resize'));
                    }, 100);
                });
            }

            optimizeScrolling() {
                // Add smooth scroll behavior for iOS
                document.documentElement.style.webkitOverflowScrolling = 'touch';
                
                // Throttle scroll events on mobile
                let scrollTimeout;
                const originalScrollHandler = window.onscroll;
                
                window.onscroll = () => {
                    if (scrollTimeout) {
                        clearTimeout(scrollTimeout);
                    }
                    
                    scrollTimeout = setTimeout(() => {
                        if (originalScrollHandler) {
                            originalScrollHandler();
                        }
                    }, 16); // ~60fps
                };
            }
        }

        // Initialize mobile optimizations
        new MobileOptimizations();
    </script>
</body>
</html>